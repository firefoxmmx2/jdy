<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"  "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap>
	<typeAlias alias="jdpxx" type="com.aisino2.jdy.domain.Jdpxx"/>
	<cacheModel id="oneDayCategory" type="LRU">
		<flushInterval hours="24"/>
	</cacheModel>
	
	<resultMap class="jdpxx" id="jdpxx_rm">
		<result property="id" column="id"/>
		<result property="jdplx" column="jdplx"/>
		<result property="jdpmc" column="jdpmc"/>
		<result property="jdpsm" column="jdpsm"/>
		<result property="ljjbxx.djxh" column="ljjbxx_id"/>
	</resultMap>
	
	<resultMap class="jdpxx" id="jdpxx_ljxx_rm" extends="jdpxx_rm">
		<result property="ljjbxx" column="ljjbxx_id" select="ljjbxx.getById"/>
	</resultMap>

	<sql id="jdpxxWhere">
		<isNotEmpty prepend="and" property="id"> 
			jdpxx.id = #id#
		</isNotEmpty>
		<isNotEmpty prepend="" property="ljjbxx">
			<isNotEmpty prepend="and" property="ljjbxx.djxh">
				jdpxx.ljjbxx_id=#ljjbxx.djxh#
			</isNotEmpty>
		</isNotEmpty>
		
	</sql>

	<sql id="jdpxxPageWhere">
		<include refid="jdpxxWhere"/>
	</sql>

	<insert id="jdpxx.insert" parameterClass="jdpxx">
		insert into t_jdpxx (
		<dynamic prepend=" ">
			<isNotNull prepend="," property="id">
				id
			</isNotNull>
			<isNotNull prepend="," property="jdplx">
				jdplx
			</isNotNull>
			<isNotNull prepend="," property="jdpsm">
				jdpsm
			</isNotNull>
			<isNotNull prepend="," property="jdpmc">
				jdpmc
			</isNotNull>
			<isNotNull prepend="," property="ljjbxx.djxh">
				ljjbxx_id
			</isNotNull>
		</dynamic>
		)
		values(
		<dynamic prepend=" ">
			<isNotNull prepend="," property="id">
				#id#
			</isNotNull>
			<isNotNull prepend="," property="jdplx">
				#jdplx#
			</isNotNull>
			<isNotNull prepend="," property="jdpsm">
				#jdpsm#
			</isNotNull>
			<isNotNull prepend="," property="jdpmc">
				#jdpmc#
			</isNotNull>
			<isNotNull prepend="," property="ljjbxx.djxh">
				#ljjbxx.djxh#
			</isNotNull>
		</dynamic>
		)
	</insert>	
	
	<delete id="jdpxx.delete" parameterClass="jdpxx">
		delete from t_jdpxx jdpxx
		where
		<dynamic prepend=" ">
			<include refid="jdpxxWhere"/>
		</dynamic>
	</delete>
	
	<update id="jdpxx.update" parameterClass="jdpxx">
		update t_jdpxx jdpxx 
		set id=id
		<dynamic prepend=",">
			<isNotNull prepend="," property="id">
				id=#id#
			</isNotNull>
			<isNotNull prepend="," property="jdplx">
				jdplx=#jdplx#
			</isNotNull>
			<isNotNull prepend="," property="jdpsm">
				jdpsm=#jdpsm#
			</isNotNull>
			<isNotNull prepend="," property="jdpmc">
				jdpmc=#jdpmc#
			</isNotNull>
			<isNotNull prepend="," property="ljjbxx.djxh">
				ljjbxx_id=#ljjbxx.djxh#
			</isNotNull>
		</dynamic>
		where
		<dynamic prepend=" ">
			<include refid="jdpxxWhere"/>
		</dynamic>
	</update>
	
	<select id="jdpxx.getList" cacheModel="oneDayCategory" parameterClass="jdpxx" resultMap="jdpxx_rm">
		select jdpxx.* from t_jdpxx jdpxx 
		where
		<dynamic prepend=" ">
			<include refid="jdpxxPageWhere"/>
		</dynamic>
	</select>
	
	<select id="jdpxx.getListPageCount" cacheModel="oneDayCategory" parameterClass="map" resultClass="Integer">
		select count(1)
		from t_jdpxx jdpxx 
		where 1=1
		<dynamic prepend="">
			<include refid="jdpxxPageWhere" />
		</dynamic>
	</select>
	
	<select id="jdpxx.getListPage" cacheModel="oneDayCategory" parameterClass="map" resultMap="jdpxx_rm">
		select x.* from (
		select rownum rowno,z.* from 
		(select jdpxx.*
		from t_jdpxx jdpxx 
		where 1=1
		<dynamic prepend="">
			<include refid="jdpxxPageWhere" />
		</dynamic>
		order by $pageSort$)  z) x where rowno &gt;$beginRow$ and rowno &lt;= $endRow$ 
	</select>
	
	<select id="jdpxx.getById" cacheModel="oneDayCategory" parameterClass="Integer" resultMap="jdpxx_rm">
		select * from t_jdpxx where id=#value#
	</select>
</sqlMap>
